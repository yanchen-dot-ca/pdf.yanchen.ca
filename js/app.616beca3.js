(function(e){function t(t){for(var a,i,o=t[0],u=t[1],c=t[2],p=0,g=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&g.push(n[i][0]),n[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(g.length)g.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,o=1;o<r.length;o++){var u=r[o];0!==n[u]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},s=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("Home")],1)},s=[],i=r("d4ec"),o=r("262e"),u=r("2caf"),c=r("9ab4"),l=r("60a3"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"mt-3"},[e._v("PDF Merger")]),r("p",[e._v("This tool merges multiple PDFs or images into a single PDF.")]),r("p",[e._v("Major features:")]),e._m(0),r("b-card",{staticClass:"my-2"},[r("b-card-text",[e._v("Image size (scale to fit):")]),r("b-form-select",{attrs:{options:e.imageModeOptions},model:{value:e.imageMode,callback:function(t){e.imageMode=t},expression:"imageMode"}}),r("b-form-checkbox",{model:{value:e.interleave,callback:function(t){e.interleave=t},expression:"interleave"}},[e._v(" Interleave, with 2nd reversed (only support merging two PDFs with same number of pages) ")])],1),r("file-pond",{ref:"pond",attrs:{name:"files","label-idle":"Click to select / drag and drop files.<br/>","allow-reorder":!0,"allow-multiple":!0,"accepted-file-types":"image/jpeg, image/png, application/pdf",instantUpload:"false"}}),r("b-progress",{staticClass:"mb-3",attrs:{max:e.progressBar.max,hidden:e.progressBar.hidden,variant:e.progressBar.variant}},[r("b-progress-bar",{attrs:{animated:e.progressBar.animated,value:e.progressBar.value,label:e.progressBar.label}})],1),r("b-button",{staticClass:"mb-3",attrs:{block:"",variant:"dark"},on:{click:e.merge}},[e._v("Merge")])],1)},g=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[e._v("Supported file types: jpg, jpeg, png, pdf.")]),r("li",[e._v("Drag and reorder files.")])])}],f=(r("4160"),r("d3b7"),r("159b"),r("b85c")),d=(r("96cf"),r("1da1")),h=r("bee2"),v=r("1501"),b=r.n(v),m=r("e198"),x=r("aeb1"),y=r.n(x),P=(r("4ed3"),r("57c8"),r("1942")),w=r.n(P),B=r("2cfc"),k=r.n(B),j=r("fbd1"),O=r.n(j),S=b()(w.a,k.a),_=function(e){Object(o["a"])(r,e);var t=Object(u["a"])(r);function r(){var e;return Object(i["a"])(this,r),e=t.apply(this,arguments),e.imageMode=null,e.imageModeOptions=[{value:null,text:"Original Size"},{value:m["PageSizes"].Letter,text:"Letter"},{value:m["PageSizes"].A2,text:"A2"},{value:m["PageSizes"].A3,text:"A3"},{value:m["PageSizes"].A4,text:"A4"},{value:m["PageSizes"].A5,text:"A5"},{value:m["PageSizes"].A6,text:"A6"},{value:m["PageSizes"].B3,text:"B3"},{value:m["PageSizes"].B4,text:"B4"},{value:m["PageSizes"].B5,text:"B5"},{value:m["PageSizes"].B6,text:"B6"},{value:m["PageSizes"].B7,text:"B7"},{value:m["PageSizes"].B8,text:"B8"},{value:m["PageSizes"].Legal,text:"Legal"}],e.interleave=!1,e.progressBar={hidden:!0,value:10,max:20,variant:"primary",label:"",animated:!0},e}return Object(h["a"])(r,[{key:"merge",value:function(){this.mergeAsync()}},{key:"showError",value:function(e){this.progressBar.variant="danger",this.progressBar.max=1,this.progressBar.value=1,this.progressBar.label=e,this.progressBar.hidden=!1,this.progressBar.animated=!1}},{key:"resetProgressBar",value:function(e){this.progressBar.variant="primary",this.progressBar.max=e,this.progressBar.value=0,this.progressBar.label="",this.progressBar.hidden=!1,this.progressBar.animated=!0}},{key:"download",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.setAuthor("https://pdf.yanchen.ca/"),t.setCreator("https://pdf.yanchen.ca/"),t.setProducer("https://pdf.yanchen.ca/"),e.next=5,t.save();case 5:r=e.sent,y()(r,"merged.pdf","application/pdf"),this.progressBar.hidden=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getPDF",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Response(t.file).arrayBuffer();case 2:return r=e.sent,e.next=5,m["PDFDocument"].load(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"mergeAsync",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,s,i,o,u,c,l,p,g,d,h,v,b,x,y,P,w,B,k,j;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.pond.getFiles(),e.next=3,m["PDFDocument"].create();case 3:if(r=e.sent,!this.interleave){e.next=36;break}if(2===t.length&&"application/pdf"===t[0].fileType&&"application/pdf"===t[1].fileType){e.next=8;break}return this.showError("interleave mode only support 2 PDFs."),e.abrupt("return");case 8:return e.next=10,this.getPDF(t[0]);case 10:return a=e.sent,e.next=13,this.getPDF(t[1]);case 13:if(n=e.sent,a.getPageCount()===n.getPageCount()){e.next=17;break}return this.showError("interleave mode only support 2 PDFs with same number of pages."),e.abrupt("return");case 17:this.resetProgressBar(a.getPageCount()),s=0;case 19:if(!(s<a.getPageCount())){e.next=32;break}return e.next=22,r.copyPages(a,[s]);case 22:return i=e.sent,i.forEach((function(e){r.addPage(e)})),e.next=26,r.copyPages(n,[a.getPageCount()-1-s]);case 26:o=e.sent,o.forEach((function(e){r.addPage(e)})),this.progressBar.value+=1;case 29:s++,e.next=19;break;case 32:return e.next=34,this.download(r);case 34:e.next=97;break;case 36:this.resetProgressBar(t.length),u=Object(f["a"])(t),e.prev=38,u.s();case 40:if((c=u.n()).done){e.next=87;break}l=c.value,e.t0=l.fileType,e.next="image/jpeg"===e.t0?45:"image/png"===e.t0?63:"application/pdf"===e.t0?73:84;break;case 45:return e.next=47,this.getCanvas(l.file);case 47:return p=e.sent,e.next=50,this.getCanvasBlob(p);case 50:if(g=e.sent,null!=g){e.next=53;break}return e.abrupt("break",84);case 53:return e.next=55,new Response(g).arrayBuffer();case 55:return d=e.sent,e.next=58,r.embedJpg(d);case 58:return h=e.sent,v=this.calculateImageSize(h),b=r.addPage(v),b.drawImage(h,{x:0,y:0,width:b.getWidth(),height:b.getHeight()}),e.abrupt("break",84);case 63:return e.next=65,new Response(l.file).arrayBuffer();case 65:return x=e.sent,e.next=68,r.embedPng(x);case 68:return y=e.sent,P=this.calculateImageSize(y),w=r.addPage(P),w.drawImage(y,{x:0,y:0,width:w.getWidth(),height:w.getHeight()}),e.abrupt("break",84);case 73:return e.next=75,new Response(l.file).arrayBuffer();case 75:return B=e.sent,e.next=78,m["PDFDocument"].load(B);case 78:return k=e.sent,e.next=81,r.copyPages(k,k.getPageIndices());case 81:return j=e.sent,j.forEach((function(e){r.addPage(e)})),e.abrupt("break",84);case 84:this.progressBar.value+=1;case 85:e.next=40;break;case 87:e.next=92;break;case 89:e.prev=89,e.t1=e["catch"](38),u.e(e.t1);case 92:return e.prev=92,u.f(),e.finish(92);case 95:return e.next=97,this.download(r);case 97:case"end":return e.stop()}}),e,this,[[38,89,92,95]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCanvasBlob",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.toBlob((function(t){e(t)}),"image/jpeg")})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCanvas",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){O()(t,(function(t){e(t)}),{canvas:!0})})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"calculateImageSize",value:function(e){var t=void 0;null!=this.imageMode&&(t=[this.imageMode[0],this.imageMode[1]]);var r=[e.width,e.height];if(void 0===t||t[0]>=e.width&&t[1]>=e.height)t=[r[0],r[1]];else{this.xor(t[0]>t[1],r[0]>r[1])&&(t=[t[1],t[0]]);var a=r[0]/r[1],n=t[0]/t[1];n>a?t[0]=t[1]*a:t[1]=t[0]/a}return t}},{key:"xor",value:function(e,t){return e&&!t||!e&&t}}]),r}(l["c"]);Object(c["c"])([Object(l["b"])()],_.prototype,"pond",void 0),_=Object(c["c"])([Object(l["a"])({components:{FilePond:S}})],_);var z=_,C=z,D=r("2877"),M=Object(D["a"])(C,p,g,!1,null,null,null),A=M.exports,F=function(e){Object(o["a"])(r,e);var t=Object(u["a"])(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return r}(l["c"]);F=Object(c["c"])([Object(l["a"])({components:{Home:A}})],F);var R=F,E=R,I=Object(D["a"])(E,n,s,!1,null,null,null),T=I.exports,H=r("5f5b"),L=r("b1e0"),$=(r("f9e3"),r("2dd8"),r("a584"));a["default"].use($["a"],{config:{id:"UA-165953044-1"}}),a["default"].use(H["a"]),a["default"].use(L["a"]),a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(T)}}).$mount("#app")}});
//# sourceMappingURL=app.616beca3.js.map